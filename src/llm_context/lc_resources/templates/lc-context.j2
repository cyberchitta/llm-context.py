{% include 'lc-prompt.j2' %}
{%- if rules %}

{% for item in rules -%}
{{ item.content }}
{% endfor %}
{%- endif -%}
{% if project_notes %}
{{ project_notes }}
{% endif %}

{% include 'lc-overview.j2' %}

{% if files %}
{% include 'lc-files.j2' %}
{% endif %}

{% if excerpts %}
{% include 'excerpters/lc-excerpts.j2' %}
{% endif %}

## FINAL REMINDER

{% if overview_mode == "focused" -%}
{% if tools_available -%}
Instructions for AI: ⚠️ This document contains focused project context. Use the available tools (lc-get-files, lc-list-modified-files, lc-get-implementations, lc-get-excluded) to retrieve additional content as needed for your analysis. Files shown as excerpted (E) can have their excluded sections retrieved via lc-get-excluded.
{%- else -%}
Instructions for AI: ⚠️ This document contains focused project context. Additional files can be requested by following the file request instructions in the repository structure section above.
{%- endif %}
{%- else -%}
{% if tools_available -%}
Instructions for AI: ⚠️ DO NOT REQUEST ADDITIONAL CONTEXT OR FILES ALREADY INCLUDED ABOVE. This document contains complete project context. Only request files that have been modified since context generation (using lc-list-modified-files), specific implementations (using lc-get-implementations), or excluded sections from excerpted files (using lc-get-excluded) that are necessary for your analysis.
{%- else -%}
Instructions for AI: ⚠️ DO NOT REQUEST ADDITIONAL CONTEXT OR FILES ALREADY INCLUDED ABOVE. This document contains complete project context. Additional files can be requested by following the file request instructions in the repository structure section above.
{%- endif %}
{%- endif %}

{% include 'lc-end-prompt.j2' %}